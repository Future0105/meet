import{C as e,q as t,o as n,c as a,w as i,a as r,d as u,t as s,g as c,H as l,e as o,F as p,f as g,i as h,n as d,M as x,h as m,r as I,N as _}from"./index-BqK64665.js";import{_ as f,r as v,a as P}from"./uni-app.es.CoO0LJmL.js";const k={en:{"uni-pagination.prevText":"prev","uni-pagination.nextText":"next","uni-pagination.piecePerPage":"piece/page"},es:{"uni-pagination.prevText":"anterior","uni-pagination.nextText":"prxima","uni-pagination.piecePerPage":"Art��culo/P��gina"},fr:{"uni-pagination.prevText":"précédente","uni-pagination.nextText":"suivante","uni-pagination.piecePerPage":"Articles/Pages"},"zh-Hans":{"uni-pagination.prevText":"上一页","uni-pagination.nextText":"下一页","uni-pagination.piecePerPage":"条/页"},"zh-Hant":{"uni-pagination.prevText":"上一頁","uni-pagination.nextText":"下一頁","uni-pagination.piecePerPage":"條/頁"}},{t:S}=e(k);const y=f({name:"UniPagination",emits:["update:modelValue","input","change","pageSizeChange"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},prevText:{type:String},nextText:{type:String},piecePerPageText:{type:String},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:[Boolean,String],default:!1},showPageSize:{type:[Boolean,String],default:!1},pagerCount:{type:Number,default:7},pageSizeRange:{type:Array,default:()=>[20,50,100,500]}},data:()=>({pageSizeIndex:0,currentIndex:1,paperData:[],pickerShow:!1}),computed:{piecePerPage(){return this.piecePerPageText||S("uni-pagination.piecePerPage")},prevPageText(){return this.prevText||S("uni-pagination.prevText")},nextPageText(){return this.nextText||S("uni-pagination.nextText")},maxPage(){let e=1,t=Number(this.total),n=Number(this.pageSize);return t&&n&&(e=Math.ceil(t/n)),e},paper(){const e=this.currentIndex,t=this.pagerCount,n=this.total,a=this.pageSize;let i=[],r=[],u=Math.ceil(n/a);for(let c=0;c<u;c++)i.push(c+1);r.push(1);const s=i[i.length-(t+1)/2];return i.forEach(((n,a)=>{(t+1)/2>=e?n<t+1&&n>1&&r.push(n):e+2<=s?n>e-(t+1)/2&&n<e+(t+1)/2&&r.push(n):(n>e-(t+1)/2||u-t<n)&&n<i[i.length-1]&&r.push(n)})),u>t?((t+1)/2>=e?r[r.length-1]="...":e+2<=s?(r[1]="...",r[r.length-1]="..."):r[1]="...",r.push(i[i.length-1])):(t+1)/2>=e||e+2<=s||(r.shift(),r.push(i[i.length-1])),r}},watch:{current:{immediate:!0,handler(e,t){this.currentIndex=e<1?1:e}},value:{immediate:!0,handler(e){1===Number(this.current)&&(this.currentIndex=e<1?1:e)}},pageSizeIndex(e){this.$emit("pageSizeChange",this.pageSizeRange[e])}},methods:{pickerChange(e){this.pageSizeIndex=e.detail.value,this.pickerClick()},pickerClick(){const e=document.querySelector("body");if(!e)return;const t="uni-pagination-picker-show";this.pickerShow=!this.pickerShow,this.pickerShow?e.classList.add(t):setTimeout((()=>e.classList.remove(t)),300)},selectPage(e,t){if(parseInt(e))this.currentIndex=e,this.change("current");else{let e=Math.ceil(this.total/this.pageSize);if(t<=1)return void(this.currentIndex-5>1?this.currentIndex-=5:this.currentIndex=1);if(t>=6)return void(this.currentIndex+5>e?this.currentIndex=e:this.currentIndex+=5)}},clickLeft(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight(){Number(this.currentIndex)>=this.maxPage||(this.currentIndex+=1,this.change("next"))},change(e){this.$emit("input",this.currentIndex),this.$emit("update:modelValue",this.currentIndex),this.$emit("change",{type:e,current:this.currentIndex})}}},[["render",function(e,I,_,f,k,S){const y=h,z=v(t("uni-icons"),P),C=d,T=x,b=m;return n(),a(b,{class:"uni-pagination"},{default:i((()=>[!0===_.showPageSize||"true"===_.showPageSize?(n(),a(T,{key:0,class:"select-picker",mode:"selector",value:k.pageSizeIndex,range:_.pageSizeRange,onChange:S.pickerChange,onCancel:S.pickerClick,onClick:S.pickerClick},{default:i((()=>[r(C,{type:"default",size:"mini",plain:!0},{default:i((()=>[r(y,null,{default:i((()=>[u(s(_.pageSizeRange[k.pageSizeIndex])+" "+s(S.piecePerPage),1)])),_:1}),r(z,{class:"select-picker-icon",type:"arrowdown",size:"12",color:"#999"})])),_:1})])),_:1},8,["value","range","onChange","onCancel","onClick"])):c("",!0),r(b,{class:"uni-pagination__total is-phone-hide"},{default:i((()=>[u("共 "+s(_.total)+" 条",1)])),_:1}),r(b,{class:l(["uni-pagination__btn",1===k.currentIndex?"uni-pagination--disabled":"uni-pagination--enabled"]),"hover-class":1===k.currentIndex?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70,onClick:S.clickLeft},{default:i((()=>[!0===_.showIcon||"true"===_.showIcon?(n(),a(z,{key:0,color:"#666",size:"16",type:"left"})):(n(),a(y,{key:1,class:"uni-pagination__child-btn"},{default:i((()=>[u(s(S.prevPageText),1)])),_:1}))])),_:1},8,["class","hover-class","onClick"]),r(b,{class:"uni-pagination__num uni-pagination__num-flex-none"},{default:i((()=>[r(b,{class:"uni-pagination__num-current"},{default:i((()=>[r(y,{class:"uni-pagination__num-current-text is-pc-hide current-index-text"},{default:i((()=>[u(s(k.currentIndex),1)])),_:1}),r(y,{class:"uni-pagination__num-current-text is-pc-hide"},{default:i((()=>[u("/"+s(S.maxPage||0),1)])),_:1}),(n(!0),o(p,null,g(S.paper,((e,t)=>(n(),a(b,{key:t,class:l([{"page--active":e===k.currentIndex},"uni-pagination__num-tag tag--active is-phone-hide"]),onClick:n=>S.selectPage(e,t)},{default:i((()=>[r(y,null,{default:i((()=>[u(s(e),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),r(b,{class:l(["uni-pagination__btn",k.currentIndex>=S.maxPage?"uni-pagination--disabled":"uni-pagination--enabled"]),"hover-class":k.currentIndex===S.maxPage?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70,onClick:S.clickRight},{default:i((()=>[!0===_.showIcon||"true"===_.showIcon?(n(),a(z,{key:0,color:"#666",size:"16",type:"right"})):(n(),a(y,{key:1,class:"uni-pagination__child-btn"},{default:i((()=>[u(s(S.nextPageText),1)])),_:1}))])),_:1},8,["class","hover-class","onClick"])])),_:1})}],["__scopeId","data-v-9230c4fe"]]),z=f({__name:"test",setup(e){const c=I([{teacherId:0,name:"谢民警"},{teacherId:1,name:"张民警"},{teacherId:2,name:"李民警"},{teacherId:3,name:"王民警"},{teacherId:4,name:"黄民警"},{teacherId:5,name:"熊民警"},{teacherId:6,name:"陈民警"},{teacherId:7,name:"范民警"},{teacherId:8,name:"龙民警"},{teacherId:9,name:"熊民警"},{teacherId:10,name:"陈民警"},{teacherId:11,name:"范民警"},{teacherId:12,name:"龙民警"}]),l=I(5),h=I(1),d=_((()=>c.value.length)),x=_((()=>{const e=(h.value-1)*l.value;return c.value.slice(e,e+l.value)})),f=e=>{h.value=e.current,console.log("newPage:",e.current)};return(e,c)=>{const I=m,_=v(t("uni-pagination"),y);return n(),a(I,null,{default:i((()=>[(n(!0),o(p,null,g(x.value,(e=>(n(),a(I,{key:e.teacherId},{default:i((()=>[u(s(e.name),1)])),_:2},1024)))),128)),r(I,{class:"uni-pagination-box"},{default:i((()=>[r(_,{"show-icon":"","page-size":l.value,current:h.value,total:d.value,onChange:f},null,8,["page-size","current","total"])])),_:1})])),_:1})}}},[["__scopeId","data-v-5daa7b1a"]]);export{z as default};
